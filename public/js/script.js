(()=>{var e={387:()=>{const e=(...e)=>{const t={};for(const o of e){if("password"===o.name||"new-password"===o.name){if(o.value.length<6)return o.classList.contains("error")||(o.classList.add("error"),o.insertAdjacentHTML("afterend",'<p class="error">Password should be atleast 6 characters long</p>')),{error:!0};o.classList.contains("error")&&(o.classList.remove("error"),o.nextElementSibling.remove())}t[o.name]=o.value}return t},t=document.getElementById("login-form"),o=document.getElementById("signup-form"),r=document.getElementById("forgot-password-form"),a=document.getElementById("profile-form"),s=document.getElementById("update-password-form"),n=document.getElementById("reset-password-form"),i=document.getElementById("request-delete-form"),c=document.getElementById("delete-account-form"),l=document.getElementById("profile-visibility-toggle"),d=document.getElementById("slim-cropper");if(t&&t.addEventListener("submit",(async o=>{o.preventDefault();const r=e(t.querySelector("#email"),t.querySelector("#password"));if(!r.error)try{const e=await fetch("/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),t=await e.json();if(!t.success||200!=e.status)throw Error(t.error||"Something went wrong!");window.location="/dashboard"}catch(e){alert(e)}})),o&&o.addEventListener("submit",(async t=>{t.preventDefault();const r=e(o.querySelector("#full-name"),o.querySelector("#username"),o.querySelector("#email"),o.querySelector("#password"));if(!r.error)try{const e=await fetch("/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),t=await e.json();if(!t.success||200!=e.status)throw Error(t.error||"Something went wrong!");window.location="/dashboard?status=new"}catch(e){alert(e)}})),r&&r.addEventListener("submit",(async e=>{e.preventDefault();const t={email:r.querySelector("#email").value};try{const e=await fetch("/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),o=await e.json();if(!o.success||200!=e.status)throw Error(o.error||"Something went wrong!");alert("Reset link sent to your mail!")}catch(e){alert(e)}})),a&&a.addEventListener("submit",(async e=>{e.preventDefault();const t={fullname:a.querySelector("#fullname").value,username:a.querySelector("#username").value,bio:a.querySelector("#bio").value.trim(),socialProfiles:{facebook:a.querySelector("#facebook").value,twitter:a.querySelector("#twitter").value,instagram:a.querySelector("#instagram").value,producthunt:a.querySelector("#producthunt").value}};try{const e=await fetch("/auth/update-details",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),o=await e.json();if(!o.success||200!=e.status)throw Error(o.error||"Something went wrong!");window.location.reload()}catch(e){alert(e)}})),s&&s.addEventListener("submit",(async e=>{e.preventDefault();const t={currentPassword:s.querySelector("#current-password").value,newPassword:s.querySelector("#new-password").value};try{const e=await fetch("/auth/update-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),o=await e.json();if(!o.success||200!=e.status)throw Error(o.error||"Something went wrong!");window.location.reload()}catch(e){alert(e)}})),n&&n.addEventListener("submit",(async e=>{e.preventDefault();const t=n.querySelector("#new-password").value,o=n.querySelector("#confirm-password").value,r=window.location.toString().split("/").slice(-1)[0];if(t!=o)return alert("Passwords do not match!");try{const e=await fetch(`/auth/reset-password/${r}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t})}),o=await e.json();if(!o.success||200!=e.status)throw Error(o.error||"Something went wrong!");window.location="/dashboard"}catch(e){alert(e)}})),i&&i.addEventListener("submit",(async e=>{e.preventDefault();try{const e=await fetch("/auth/request-delete",{method:"POST",headers:{"Content-Type":"application/json"}}),t=await e.json();if(!t.success||200!=e.status)throw Error(t.error||"Something went wrong!");alert("A mail was sent your email address!"),window.location.reload()}catch(e){alert(e)}})),c&&c.addEventListener("submit",(async e=>{e.preventDefault();try{if(200!=(await fetch("/auth/delete-account",{method:"DELETE"})).status)throw Error(json.error||"Something went wrong!");window.location="/"}catch(e){alert(e)}})),l){const e=document.getElementById("profile-visible-at");l.addEventListener("click",(async t=>{const o=t.target;if(("profile-visible"===o.id||"profile-hidden"===o.id)&&!o.classList.contains("active")){const t=o.id.split("-")[1];"hidden"===t?(e.style.opacity="0",o.classList.add("active"),document.getElementById("profile-visible").classList.remove("active"),setTimeout((()=>e.style.display="none"),250)):(e.style.display="block",setTimeout((()=>e.style.opacity="1"),1),o.classList.add("active"),document.getElementById("profile-hidden").classList.remove("active"));try{const e=await fetch("/auth/update-visibility",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profileVisibility:t})}),o=await e.json();if(!o.success||200!=e.status)throw Error(o.error||"Something went wrong!")}catch(e){alert(e)}}}))}if(d){const e=document.querySelector("#save-avatar-btn"),t=new Slim(d,{ratio:"1:1",minSize:{width:240,height:240},size:{width:320,height:320},download:!1,instantEdit:!1,label:"Drop your avatar here",buttonConfirmLabel:"Confirm",buttonConfirmTitle:"Confirm",buttonCancelLabel:"Cancel",buttonCancelTitle:"Cancel",buttonEditTitle:"Edit",buttonRemoveTitle:"Remove",buttonDownloadTitle:"Download",buttonRotateTitle:"Rotate",buttonUploadTitle:"Upload",statusImageTooSmall:"Image should be atleast $0 pixel.",willSave:()=>{o.style={},e.classList.remove("btn--primary"),e.classList.add("btn--green"),e.innerHTML="Save Changes"}}),o=d.querySelector(".slim-file-hopper");o.style={},e.addEventListener("click",(async e=>{if(!e.target.classList.contains("btn--green"))return e.target.classList.remove("btn--primary"),e.target.classList.add("btn--green"),e.target.innerHTML="Save Changes",o.click();const r=(e=>{var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var o=e.split(",")[0].split(":")[1].split(";")[0],r=new Uint8Array(t.length),a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return new Blob([r],{type:o})})(t.dataBase64.output.image),a=new FormData;a.append("avatar",r);try{const e=await fetch("/auth/update-avatar",{method:"POST",body:a}),t=await e.json();if(!t.success||200!=e.status)throw Error(t.error||"Something went wrong!");window.location.reload()}catch(e){alert(e)}finally{e.target.classList.remove("btn--green"),e.target.classList.add("btn--primary"),e.target.innerHTML="Change Avatar"}}))}},345:()=>{const e=document.getElementById("create-group-form"),t=document.getElementById("edit-group-form"),o=document.getElementById("add-new-form"),r=document.getElementById("new-card-form"),a=document.getElementById("delete-card-form"),s=document.getElementById("edit-card-form"),n=$(".toggle-group-visbility"),i=$(".delete-group-btn"),c=$(".edit-group-btn"),l=$(".edit-mode-btn"),d=$(".new-card-btn"),u=$(".delete-card-btn"),y=$(".edit-card-btn");if(e&&e.addEventListener("submit",(async t=>{t.preventDefault();const o={name:e.querySelector("#group-name").value,color:e.querySelector(".selected").getAttribute("value")};try{const e=await fetch("/groups",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),t=await e.json();if(!t.success||200!=e.status)throw Error(t.error||"Something went wrong!");window.location.reload()}catch(e){alert(e)}})),n.click((async e=>{const{id:t,value:o}=e.target.dataset,r={groupVisibility:"hidden"===o?"visible":"hidden"};try{const e=await fetch(`/groups/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),o=await e.json();if(!o.success||200!=e.status)throw Error(o.error||"Something went wrong!");window.location.reload()}catch(e){alert(e)}})),i.click((async e=>{const{id:t}=e.target.dataset;try{const e=await fetch(`/groups/${t}`,{method:"DELETE"}),o=await e.json();if(!o.success||200!=e.status)throw Error(o.error||"Something went wrong!");window.location.reload()}catch(e){alert(e)}})),c.click((async e=>{const t=$("#edit-group-overlay")[0],{id:o,name:r,color:a}=e.target.dataset,s=document.getElementById("edit-group-form"),n=s.querySelector("#group-name-edit"),i=s.querySelector("#group-id-edit");n.value=r,i.value=o;const c=$("#edit-color-blocks a.selected")[0];c&&c.classList.remove("selected");const l=document.getElementById(a);l&&l.classList.add("selected"),t.style.visibility="visible",t.style.opacity="1";t.onclick=e=>{"modal-overlay"===e.target.className&&(t.style.opacity="0",setTimeout((()=>t.style.visibility="hidden"),250))}})),d.click((async e=>{const t=$("#new-card-overlay")[0],{id:o}=e.target.dataset;document.getElementById("new-card-form").querySelector("#selected-group-new").value=o,t.style.visibility="visible",t.style.opacity="1";t.onclick=e=>{"modal-overlay"===e.target.className&&(t.style.opacity="0",setTimeout((()=>t.style.visibility="hidden"),250))}})),t&&t.addEventListener("submit",(async e=>{e.preventDefault();const o=t.querySelector("#group-id-edit").value,r={name:t.querySelector("#group-name-edit").value,color:t.querySelector(".selected").getAttribute("value")};try{const e=await fetch(`/groups/${o}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),t=await e.json();if(!t.success||200!=e.status)throw Error(t.error||"Something went wrong!");window.location.reload()}catch(e){alert(e)}})),o&&o.addEventListener("submit",(async e=>{e.preventDefault();const t=o.querySelector("#url").value,r=o.querySelector("#selected-group").value;try{const e=await fetch(`/groups/${r}/add-card`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:t})}),o=await e.json();if(!o.success||200!=e.status)throw Error(o.error||"Something went wrong!");window.location.reload()}catch(e){alert(e)}})),r&&r.addEventListener("submit",(async e=>{e.preventDefault();const t=r.querySelector("#url-new").value,o=r.querySelector("#selected-group-new").value;try{const e=await fetch(`/groups/${o}/add-card`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:t})}),r=await e.json();if(!r.success||200!=e.status)throw Error(r.error||"Something went wrong!");window.location.reload()}catch(e){alert(e)}})),l.length>0){const e=document.getElementById("bottom-edit-mode-bar");l.click((async t=>{const o=document.getElementById(t.target.dataset.elementid),r=t.target.dataset.groupname;o.classList.add("edit-mode"),e.style.visibility="visible",e.querySelector("#group-name").innerHTML=r,e.style.opacity="1";const a=()=>{e.style.visibility="hidden",e.style.opacity="0",o.classList.remove("edit-mode")};e.querySelector("#cancel-btn").onclick=a,e.querySelector("#save-btn").onclick=a}))}a&&a.addEventListener("submit",(async e=>{e.preventDefault();const t=a.querySelector("#group-id").value,o=a.querySelector("#card-id").value;try{const e=await fetch(`/groups/${t}/delete-card/${o}`,{method:"DELETE"}),r=await e.json();if(!r.success||200!=e.status)throw Error(r.error||"Something went wrong!");window.location.reload()}catch(e){alert(e)}})),u.length>0&&u.click((e=>{const t=e.target.dataset.groupid,o=e.target.dataset.cardid;a.querySelector("#group-id").value=t,a.querySelector("#card-id").value=o})),s&&s.addEventListener("submit",(async e=>{e.preventDefault();const t=s.querySelector("#group-id-card-edit").value,o=s.querySelector("#card-id-edit").value,r=s.querySelector("#card-name").value,a=s.querySelector("#card-url").value;try{const e=await fetch(`/groups/${t}/edit-card/${o}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r,url:a})}),s=await e.json();if(!s.success||200!=e.status)throw Error(s.error||"Something went wrong!");window.location.reload()}catch(e){alert(e)}})),y.length>0&&y.click((e=>{const t=e.target.dataset.groupid,o=e.target.dataset.cardid,r=e.target.dataset.cardname,a=e.target.dataset.cardurl;s.querySelector("#group-id-card-edit").value=t,s.querySelector("#card-id-edit").value=o,s.querySelector("#card-name").value=r,s.querySelector("#card-url").value=a}))},743:()=>{const e=document.getElementById("menu");if(e){const t=document.getElementById("dropdown-menu");e.addEventListener("click",(()=>{e.classList.toggle("show"),t.classList.toggle("show")}))}const t=document.getElementById("fab");t&&(window.onscroll=e=>{window.innerHeight+window.scrollY>=document.body.offsetHeight-100?(t.classList.add("hide"),setTimeout((()=>t.style.visibility="hidden"),250)):(t.style.visibility="visible",t.classList.remove("hide"))});const o=document.getElementById("layout-grid"),r=document.getElementById("layout-list");if(o&&r){const e=async function(){if(!this.classList.contains("active")){const e=this.id.split("-")[1];try{const t=await fetch("/preferences/set",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:"layout",value:e})}),o=await t.json();if(!o.success||200!=t.status)throw Error(o.error||"Something went wrong!");this.classList.add("active"),window.location.reload()}catch(e){alert(e)}}};o.addEventListener("click",e),r.addEventListener("click",e)}const a=document.getElementsByClassName("dropdown-trigger");if(a){let e=window.innerWidth,t=window.innerHeight;const o=o=>{t=o.target.innerHeight,e=o.target.innerWidth};window.addEventListener("resize",o),Array.from(a).forEach((t=>{t.addEventListener("click",(function(t){const o=document.getElementById(this.dataset.overlay),r=document.getElementById(this.dataset.dropdown),a=this.dataset.isshowing,s=+this.dataset.width,n=(this.dataset.height,"true"===this.dataset.includescroll);if("false"===a){const a=[t.clientX,t.clientY+40];n&&(a[1]=a[1]+window.scrollY-5),e-a[0]<s?r.style.left=e-s-35+"px":r.style.left=`${a[0]}px`,r.style.top=`${a[1]}px`,r.style.opacity="1",r.style.visibility="visible",o.style.display="block",this.dataset.isshowing="true"}else r.style.opacity="0",setTimeout((()=>r.style.visibility="hidden"),250),o.style.display="none",this.dataset.isshowing="false"}))}))}const s=document.getElementsByClassName("modal-trigger");s&&Array.from(s).forEach((e=>{e.addEventListener("click",(function(){const e=document.getElementById(this.dataset.modal);e.style.visibility="visible",e.style.opacity="1";e.onclick=t=>{"modal-overlay"===t.target.className&&(e.style.opacity="0",setTimeout((()=>e.style.visibility="hidden"),250))}}))}));const n=document.getElementsByClassName("close-modal");n&&Array.from(n).forEach((e=>{e.addEventListener("click",(function(){document.getElementById(this.dataset.modal).click()}))}));try{new ClipboardJS(".copy-link")}catch(e){}const i=new URLSearchParams(window.location.search).get("status");if(i){window.history.pushState({},document.title,window.location.pathname);const e=e=>{if(!e)return;e.style.visibility="visible",e.style.opacity="1";e.onclick=t=>{"modal-overlay"===t.target.className&&(e.style.opacity="0",setTimeout((()=>e.style.visibility="hidden"),250))}};"new"===i&&e(document.getElementById("new-to-zave-overlay")),"tour"===i&&e(document.getElementById("start-tour-overlay"));const t=document.getElementsByClassName("start-tour-btn");t&&Array.from(t).forEach((t=>{t.addEventListener("click",(()=>{"new"===i&&document.getElementById("new-to-zave-overlay").click(),"tour"===i&&document.getElementById("start-tour-overlay").click(),e(document.getElementById("tour-slider-overlay"))}))}))}const c=$("#tour-slick");if(c.length>0){const e=document.querySelector(".slider-nav"),t=document.querySelector(".slider-finish-tour"),o=4;c.slick({dots:!0,infinite:!1,speed:500,fade:!0,cssEase:"linear",prevArrow:'<span class="slick-prev">Previous</span>',nextArrow:'<span class="slick-next">Next</span>',appendArrows:".slider-nav",appendDots:".slider-pagination"}),c.on("beforeChange",((r,a,s,n)=>{n===o?(e.style.display="none",t.style.display="block"):(t.style.display="none",e.style.display="block")}))}const l=$("#minicolors-input"),d=$("#minicolors-input-edit");l.length>0&&(l.minicolors({position:"top left",defaultValue:"#c6c6c6",format:"hex",change:()=>{const e=$("#create-color-blocks a.selected")[0];e&&e.classList.remove("selected"),$("#create-color-blocks #minicolors-input")[0].classList.add("selected"),$("#create-color-blocks .minicolors-swatch-color")[0].classList.add("selected")}}),d.minicolors({position:"top left",defaultValue:"#c6c6c6",format:"hex",change:()=>{const e=$("#edit-color-blocks a.selected")[0];e&&e.classList.remove("selected"),$("#edit-color-blocks #minicolors-input-edit")[0].classList.add("selected"),$("#edit-color-blocks .minicolors-swatch-color")[0].classList.add("selected")}}),$("#create-color-blocks a").click((e=>{$("#create-color-blocks a.selected")[0].classList.remove("selected"),e.target.classList.add("selected")})),$("#edit-color-blocks a").click((e=>{$("#edit-color-blocks a.selected")[0].classList.remove("selected"),e.target.classList.add("selected")})))},964:()=>{}},t={};function o(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,o),s.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";o(964),o(743),o(387),o(345)})()})();